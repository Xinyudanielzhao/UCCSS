{"version":3,"sources":["app.js","C:/Users/xinyu/Desktop/Xinyu 810/UCCSS/Server/client/src/app.html","auth-config.js","environment.js","main.js","C:/Users/xinyu/Desktop/Xinyu 810/UCCSS/Server/client/src/modules/components/editHelpTicket.html","C:/Users/xinyu/Desktop/Xinyu 810/UCCSS/Server/client/src/modules/components/editUser.html","C:/Users/xinyu/Desktop/Xinyu 810/UCCSS/Server/client/src/modules/components/tableHelpTickets.html","C:/Users/xinyu/Desktop/Xinyu 810/UCCSS/Server/client/src/modules/components/tableUsers.html","modules/helpTickets.js","C:/Users/xinyu/Desktop/Xinyu 810/UCCSS/Server/client/src/modules/helpTickets.html","modules/home.js","C:/Users/xinyu/Desktop/Xinyu 810/UCCSS/Server/client/src/modules/home.html","modules/landing.js","C:/Users/xinyu/Desktop/Xinyu 810/UCCSS/Server/client/src/modules/landing.html","modules/users.js","C:/Users/xinyu/Desktop/Xinyu 810/UCCSS/Server/client/src/modules/users.html","resources/data/data-services.js","resources/data/help-ticket-object.js","C:/Users/xinyu/Desktop/Xinyu 810/UCCSS/Server/client/src/resources/data/todos.js","resources/data/user-object.js","C:/Users/xinyu/Desktop/Xinyu 810/UCCSS/Server/client/src/resources/data/users.js","resources/elements/nav-bar.js","C:/Users/xinyu/Desktop/Xinyu 810/UCCSS/Server/client/src/resources/elements/nav-bar.html","resources/index.js","resources/value-converters/format-date.js"],"names":["App","configureRouter","config","router","addPipelineStep","AuthorizeStep","map","route","moduleId","name","auth","authConfig","baseUrl","loginUrl","tokenName","authHeader","authToken","logoutRedirect","debug","testing","window","regeneratorRuntime","configure","aurelia","use","standardConfiguration","plugin","baseConfig","feature","developmentLogging","environment","start","then","setRoot","HelpTickets","Router","HelpTicket","helpTicket","helpTickets","showHelpTicketEditForm","userObj","JSON","parse","sessionStorage","getItem","activate","getHelpTickets","attached","feather","replace","showEditForm","setTimeout","$","focus","back","showHelpTicketDisplayForm","filesToUpload","Array","files","changeFiles","i","addFile","forEach","item","push","length","newHelpTicket","title","personId","_id","ownerId","status","helpTicketContent","content","editHelpTicket","getHelpTicketsContents","save","role","saveHelpTicket","serverResponse","uploadFile","contentID","delete","Home","message","console","log","Landing","email","password","authenticated","Users","User","users","showUserEditForm","getUsers","newUser","user","firstName","lastName","active","openEditForm","editUser","changeActive","saveUser","DataServices","HttpClient","http","httpClient","BASE_URL","withBaseUrl","withDefaults","credentials","headers","withInterceptor","request","localStorage","append","response","get","url","fetch","json","data","catch","error","post","method","body","object","put","uploadFiles","formData","FormData","index","HELP_TICKET_SERVICE","HELP_TICKET_CONTENT_SERVICE","helpTicketsArray","id","helpTicketsContentsArray","USER_SERVICE","usersArray","NavBar","AuthService","loginError","bind","isAuthenticated","on","find","removeClass","parent","addClass","login","setItem","stringify","navigate","logout","removeItem","globalResources","FormatDateValueConverter","toView","value","myDate","Date","toLocaleDateString","toLocaleTimeString"],"mappings":"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","file":"app-bundle.js","sourcesContent":["\nimport {AuthorizeStep} from 'aurelia-auth';\n\n\nexport class App {\n  configureRouter(config, router) {\n    this.router = router;\n    config.addPipelineStep('authorize', AuthorizeStep); \n    config.map([\n      {\n        route: ['', 'landing'],  \n        moduleId: './modules/landing',\n        name: 'Landing',\n        auth: false\n      },\n      {\n        route: 'home',\n        moduleId: './modules/home',\n        name: ' Home',\n        auth: true\n      },\n      {\n        route: 'users',\n        moduleId: './modules/users',\n        name: ' Users',\n        auth: true \n      },\n      {\n        route: 'helpTickets',\n        moduleId: './modules/helpTickets',\n        name: ' Help Tickets',\n        auth: true \n      }\n    ]);\n  }\n}",null,"var authConfig = {\r\n  baseUrl: \"http://localhost:5000/api\",\r\n  loginUrl: '/users/login',\r\n  tokenName: 'token',\r\n  authHeader: 'Authorization',\r\n  authToken: '',\r\n  logoutRedirect: '#/landing'\r\n}\r\n\r\nexport default authConfig;","export default {\n  debug: true,\n  testing: true\n};\n","import environment from './environment';\nimport config from './auth-config';\n\n\nimport regeneratorRuntime from 'regenerator-runtime';\nwindow.regeneratorRuntime = regeneratorRuntime;\n\n\n\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .plugin('aurelia-auth', (baseConfig) => {\n      baseConfig.configure(config);\n    })\n\n    .feature('resources');\n\n  aurelia.use.developmentLogging(environment.debug ? 'debug' : 'warn');\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  return aurelia.start().then(() => aurelia.setRoot());\n}",null,null,null,null,"import { inject } from 'aurelia-framework';\r\nimport { Router } from 'aurelia-router';\r\nimport { HelpTicket } from '../resources/data/help-ticket-object';\r\n\r\n@inject(Router, HelpTicket)\r\n\r\n\r\nexport class HelpTickets {\r\n  constructor(router, helpTicket) {\r\n    this.router = router;\r\n    this.helpTickets = helpTicket;\r\n    this.showHelpTicketEditForm = false;\r\n    this.userObj = JSON.parse(sessionStorage.getItem('userObj'));\r\n  }\r\n\r\n\r\n  async activate() {\r\n    this.helpTickets.getHelpTickets(this.userObj);\r\n  }\r\n  attached() {\r\n    feather.replace();\r\n  }\r\n\r\n  showEditForm() {\r\n    this.showHelpTicketEditForm = true;\r\n    setTimeout(() => { $('#firstName').focus(); }, 500);\r\n  }\r\n\r\n  back() {\r\n    this.showHelpTicketEditForm = false;\r\n    this.showHelpTicketDisplayForm = false;\r\n    this.filesToUpload = new Array();\r\n    this.files = new Array();\r\n  }\r\n\r\n  changeFiles() {\r\n    this.filesToUpload = this.filesToUpload ? this.filesToUpload : new Array();\r\n    for (let i = 0; i < this.files.length; i++) {\r\n      let addFile = true;\r\n      // eslint-disable-next-line no-loop-func\r\n      this.filesToUpload.forEach(item => {\r\n        if (item.name === this.files[i].name) addFile = false;\r\n      });\r\n      if (addFile) this.filesToUpload.push(this.files[i]);\r\n    }\r\n  }\r\n\r\n\r\n  async getHelpTickets() {\r\n    await this.helpTickets.getHelpTickets(this.userObj);\r\n  }\r\n\r\n  newHelpTicket() {\r\n    this.helpTicket = {\r\n      title: '',\r\n      personId: this.userObj._id,\r\n      ownerId: 'a1a1a1a1a1a1a1a1a1a1a1a1',\r\n      status: 'new'\r\n    };\r\n\r\n    this.helpTicketContent = {\r\n      personId: this.userObj._id,\r\n      content: ''\r\n    };\r\n    this.showEditForm();\r\n  }\r\n\r\n\r\n  async editHelpTicket(helpTicket) {\r\n    this.helpTicket = helpTicket;\r\n    this.helpTicketContent = {\r\n      personId: this.userObj._id,\r\n      content: ''\r\n    };\r\n    await this.helpTickets.getHelpTicketsContents(helpTicket._id);\r\n    this.showEditForm();\r\n  }\r\n\r\n  async save() {\r\n    if (this.helpTicket && this.helpTicket.title && this.helpTicketContent && this.helpTicketContent.content) {\r\n      if (this.userObj.role === 'staff' || this.userObj.role === 'admin') {\r\n        this.helpTicket.ownerId = this.userObj._id;\r\n      }\r\n      let helpTicket = { helpTicket: this.helpTicket, content: this.helpTicketContent };\r\n      let serverResponse = await this.helpTickets.saveHelpTicket(helpTicket);\r\n      if (this.filesToUpload && this.filesToUpload.length > 0) {\r\n        this.helpTickets.uploadFile(this.filesToUpload,\r\n          serverResponse.contentID);\r\n      }\r\n      await this.getHelpTickets();\r\n      this.back();\r\n    }\r\n  }\r\n\r\n\r\n  async delete() {\r\n    if (this.helpTicket) {\r\n      await this.helpTickets.delete(this.helpTicket);\r\n      await this.getHelpTickets();\r\n      this.back();\r\n    }\r\n  }\r\n}",null,"import {inject} from 'aurelia-framework';\r\n\r\nexport class Home {\r\n  constructor() {\r\n          this.message = 'Home';\r\n  }\r\n\r\n  attached(){\r\n    console.log('here')\r\n  }\r\n\r\n}\r\n\r\n",null,"import {inject} from 'aurelia-framework';\r\nimport {Router} from 'aurelia-router';\r\n\r\n@inject(Router)\r\n\r\nexport class Landing {\r\n    constructor(router){\r\n        this.router = router;\r\n        this.email = \"\";\r\n        this.password = \"\";\r\n        this.authenticated = false;\r\n    }\r\n\r\n}",null,"import { inject } from 'aurelia-framework';\r\nimport { Router } from 'aurelia-router';\r\nimport { User } from '../resources/data/user-object';\r\n\r\n@inject(Router, User)\r\n\r\nexport class Users {\r\n  constructor(router, users) {\r\n    this.router = router;\r\n    this.users = users;\r\n    this.message = 'Users';\r\n    this.showUserEditForm = false;\r\n  }\r\n\r\n  async activate() {\r\n    await this.getUsers();\r\n  }\r\n\r\n  attached() {\r\n    feather.replace()\r\n  }\r\n\r\n\r\n  async getUsers() {\r\n    await this.users.getUsers();\r\n  }\r\n\r\n\r\n  newUser() {\r\n    this.user = {\r\n      firstName: \"\",\r\n      lastName: \"\",\r\n      active: true,\r\n      role: \"user\",\r\n      email: \"\",\r\n      password: \"\"\r\n    }\r\n    this.openEditForm();\r\n  }\r\n\r\n\r\n  editUser(user) {\r\n    this.user = user;\r\n    this.openEditForm();\r\n  }\r\n\r\n  openEditForm() {\r\n    this.showUserEditForm = true;\r\n    setTimeout(() => { $(\"#firstName\").focus(); }, 500);\r\n  }\r\n\r\n  changeActive(user) {\r\n    this.user = user;\r\n    this.save();\r\n  }\r\n\r\n\r\n  async save() {\r\n    if (this.user && this.user.firstName && this.user.lastName\r\n      && this.user.email && this.user.password)\r\n      await this.users.saveUser(this.user);\r\n    await this.getUsers();\r\n    this.back();\r\n  }\r\n\r\n  async delete() {\r\n    if (this.user) {\r\n      await this.users.delete(this.user);\r\n      await this.getUsers();\r\n      this.back();\r\n    }\r\n  }\r\n\r\n\r\n\r\n  back() {\r\n    this.showUserEditForm = false;\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n",null,"import { inject } from 'aurelia-framework';\r\nimport { HttpClient, json } from 'aurelia-fetch-client';\r\n\r\n@inject(HttpClient)\r\nexport class DataServices {\r\n  constructor(http) {\r\n    this.httpClient = http;\r\n    this.BASE_URL = 'http://localhost:5000/api/';\r\n\r\n    this.httpClient.configure(config => {\r\n      config\r\n        .withBaseUrl(this.BASE_URL)\r\n        .withDefaults({\r\n          credentials: 'same-origin',\r\n          headers: {\r\n            'Accept': 'application/json',\r\n            'X-Requested-With': 'Fetch'\r\n          }\r\n        })\r\n        .withInterceptor({\r\n          request(request) {\r\n            // eslint-disable-next-line no-console\r\n            console.log('Requesting ${request.method} ${request.url}');\r\n            // eslint-disable-next-line vars-on-top\r\n            let authHeader = 'Bearer ' + localStorage.getItem('aurelia_token');\r\n            request.headers.append('Authorization', authHeader);\r\n\r\n            return request;\r\n          },\r\n          response(response) {\r\n            // eslint-disable-next-line no-console\r\n            console.log('Received ${response.status} ${response.url}');\r\n            return response;\r\n          }\r\n        });\r\n    });\r\n  }\r\n\r\n\r\n  get(url) {\r\n    return this.httpClient.fetch(url)\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        return data;\r\n      })\r\n      .catch(error => {\r\n        return error;\r\n      });\r\n  }\r\n  post(content, url) {\r\n    return this.httpClient\r\n      .fetch(url, {\r\n        method: 'post',\r\n        body: json(content)\r\n      })\r\n      .then(response => response.json())\r\n      .then(object => {\r\n        return object;\r\n      })\r\n      .catch(error => {\r\n        return error;\r\n      });\r\n  }\r\n  put(content, url) {\r\n    return this.httpClient\r\n      .fetch(url, {\r\n        method: 'put',\r\n        body: json(content)\r\n      })\r\n      .then(response => response.json())\r\n      .then(object => {\r\n        return object;\r\n      })\r\n      .catch(error => {\r\n        return error;\r\n      });\r\n  }\r\n  delete(url) {\r\n    return this.httpClient\r\n      .fetch(url, {\r\n        method: 'delete'\r\n      })\r\n      .then(response => response.json())\r\n      .then(object => {\r\n        return object;\r\n      })\r\n      .catch(error => {\r\n        return error;\r\n      });\r\n  }\r\n\r\n  uploadFiles(files, url) {\r\n    let formData = new FormData();\r\n    files.forEach((item, index) => {\r\n      formData.append('file' + index, item);\r\n    });\r\n    return this.httpClient\r\n      .fetch(url, {\r\n        method: 'post',\r\n        body: formData\r\n      })\r\n      .then(response => response.json())\r\n      .then(object => {\r\n        return object;\r\n      })\r\n      .catch(error => {\r\n        return error;\r\n      });\r\n  }\r\n}","import { inject } from 'aurelia-framework';\r\nimport { DataServices } from './data-services';\r\n@inject(DataServices)\r\n\r\nexport class HelpTicket {\r\n  constructor(data) {\r\n    this.data = data;\r\n    this.HELP_TICKET_SERVICE = 'helpTickets';\r\n    this.HELP_TICKET_CONTENT_SERVICE = 'helpTicketContents';\r\n  }\r\n\r\n  async getHelpTickets(userObj) {\r\n    let url = this.HELP_TICKET_SERVICE;\r\n    // eslint-disable-next-line eqeqeq\r\n    if (userObj.role == 'user') {\r\n      url += '/user/' + userObj._id;\r\n    }\r\n    let response = await this.data.get(url);\r\n    if (!response.error) {\r\n      this.helpTicketsArray = response;\r\n    } else {\r\n      this.helpTicketsArray = [];\r\n    }\r\n  }\r\n\r\n  async getHelpTicketsContents(id) {\r\n    let url = this.HELP_TICKET_CONTENT_SERVICE + '/helpTicket/' + id;\r\n    // eslint-disable-next-line eqeqeq\r\n    let response = await this.data.get(url);\r\n    if (!response.error) {\r\n      this.helpTicketsContentsArray = response;\r\n    } else {\r\n      this.helpTicketsContentsArray = [];\r\n    }\r\n  }\r\n\r\n  async saveHelpTicket(helpTicket) {\r\n    let serverResponse;\r\n    if (helpTicket) {\r\n      if (helpTicket.helpTicket._id) {\r\n        serverResponse = await this.data.put(helpTicket, this.HELP_TICKET_SERVICE);\r\n      } else {\r\n        serverResponse = await this.data.post(helpTicket, this.HELP_TICKET_SERVICE);\r\n      }\r\n      return serverResponse;\r\n    }\r\n  }\r\n  async delete(helpTicket) {\r\n    if (helpTicket && helpTicket._id) {\r\n      await this.data.delete(this.HELP_TICKET_SERVICE + '/' + helpTicket._id);\r\n    }\r\n  }\r\n\r\n  async uploadFile(files, id) {\r\n    await this.data.uploadFiles(files, this.HELP_TICKET_CONTENT_SERVICE + '/upload/' + id);\r\n  }\r\n}",null,"import { inject } from 'aurelia-framework';\r\nimport { DataServices } from './data-services';\r\n@inject(DataServices)\r\nexport class User {\r\n    constructor(data) {\r\n        this.data = data;\r\n        this.USER_SERVICE = 'users';    \r\n    }\r\n\r\n    \r\n    async saveUser(user) {\r\n        let serverResponse;\r\n        if (user) {\r\n            if (user._id) {\r\n                serverResponse = await this.data.put(user, this.USER_SERVICE);\r\n            } else {\r\n                serverResponse = await this.data.post(user, this.USER_SERVICE);\r\n            }\r\n            return serverResponse;\r\n        }\r\n    }\r\n\r\n    async delete(user) {\r\n        if (user && user._id) {\r\n            await this.data.delete(this.USER_SERVICE + '/' + user._id)\r\n        }\r\n    }\r\n\r\n\r\n\r\n    async getUsers() {\r\n        let response = await this.data.get(this.USER_SERVICE);\r\n        if (!response.error) {\r\n            this.usersArray = response;\r\n        } else {\r\n            this.usersArray = [];\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n",null,"import { inject } from 'aurelia-framework';\r\nimport { Router } from 'aurelia-router';\r\nimport { AuthService } from 'aurelia-auth';\r\n\r\n\r\n@inject(Router, AuthService)\r\nexport class NavBar {\r\n    constructor(router, auth) {\r\n        this.router = router;\r\n        this.auth = auth;\r\n        this.loginError = '';\r\n        this.authenticated = false;\r\n        this.email = \"\";\r\n        this.password = \"\";\r\n    }\r\n\r\n    bind() {\r\n        this.isAuthenticated = this.auth.isAuthenticated();\r\n    }\r\n\r\n\r\n    attached() {\r\n        $('.navbar-nav a').on('click', function () {\r\n            $('.navbar-nav').find('li.active').removeClass('active');\r\n            $(this).parent('li').addClass('active');\r\n        });\r\n    }\r\n\r\n    login() {\r\n        return this.auth.login(this.email, this.password)\r\n            .then(response => {\r\n                this.userObj = response.user;\r\n                sessionStorage.setItem(\"userObj\", JSON.stringify(this.userObj));\r\n                this.loginError = \"\";\r\n                this.isAuthenticated = this.auth.isAuthenticated();\r\n                this.router.navigate('home');\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                this.authenticated = false;\r\n                this.loginError = \"Invalid credentials.\";\r\n            });\r\n    };\r\n\r\n    logout() {\r\n        if (this.userObj) this.auth.logout(this.userObj.email);\r\n        sessionStorage.removeItem('user');\r\n        this.isAuthenticated = this.auth.isAuthenticated();\r\n        this.auth.logout();\r\n    }\r\n\r\n}",null,"export function configure(config) {\n  config.globalResources([\n    './elements/nav-bar',\n    './value-converters/format-date',\n  ]);\n\n}","export class FormatDateValueConverter {\r\n    toView(value) {\r\n        let myDate = new Date(value);\r\n        return myDate.toLocaleDateString() + \"<br/>\" + myDate.toLocaleTimeString();\r\n    }\r\n}"],"sourceRoot":".."}